language: node_js
node_js:
  - lts/*
notifications:
  email:
    on_success: change
    on_failure: always
script:
  - npm test
deploy:
  - provider: script
    skip_cleanup: true
    script: npm run _version
    on:
      branch: master
      repo: smockle/homebridge-harmony-tv
      tags: false
  - provider: npm
    skip_cleanup: true
    email: bot@smockle.com
    api_key:
      secure: VypifR3GuVmweRD0RpOk7pt56W3a1rGHGZpi+Dk6g3xVkFOSV3VL+Is1Zimu6kv+oCNRhfoMw2Wq5+pE2bCRnwyku87V6F2CPvF+ZvmRYWh0E1yJ8nwvTt6qvq9LlgFR6elAWG83jVmdxFXHC/IkHLZToUYOziCyem6oQmPI2GnCUmdhGWxZe6XBHXC+2Y9ZoOTUpm10sf0eH0MIbEEMEOCixcpVIYrXffTbjdFVyDgSETtz+qVzSgaznc9nMGgD5erf7j6V4S/ZjkFTahOnnpVbsBnR79V7fHfSLAC2pIGz4PgGuMCTw0g/pLyGRXHB/yt7AjxgfCWgS7QLjOIXa/XZXrqjCF4YISvVBi7uEmg3nTCbBIiNU8/YGdA0eAIjVijpyD7UNicuoEcRA2Di5/ARkYyqY4E7y392DBHxQN5Tnf+65xCjipDzhbEV3XOmHVK4GTA3rZ+UXGGByRZ74aO70N8cBGiiyhEgff2mqB/bhWm1WCa5x73gBNiBr9hncmQP3L255LE88YcToNSFp2JB5jS2PkJ5jCpxzNqSTNw18tz7GrjJjPgFl2Aeaiw3wjimxg15x3mCpIs96Mz8MJQUReou4AjmPYJlzFsqVZOmTMAsWrrcBzNvOnlVcFujh+7INVkYwV9Izwm3cWNke42PcYhk1fQR7JZKO0eSjxI=
    on:
      branch: master
      repo: smockle/homebridge-harmony-tv
      tags: false
